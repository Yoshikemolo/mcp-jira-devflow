# Skill Manifest - Progressive Disclosure Index
# This file describes available resources for agents that support lazy loading.
# Agents without progressive disclosure support can safely ignore this file.

skill: jira-read
version: "1.0"
specification: agentskills.io/v1

# Token estimation rule: 1 token â‰ˆ 0.75 words in English
# Cheatsheets/examples tokenize worse than prose due to formatting

progressive_disclosure:
  # Level 1: Metadata (~120 tokens)
  # Loaded at startup for all skills
  # Source: SKILL.md frontmatter (name + description)
  metadata:
    estimated_tokens: 120
    fields: [name, description]

  # Level 2: Instructions (~1600 tokens recommended)
  # Loaded when skill is activated
  # Source: SKILL.md body
  instructions:
    estimated_tokens: 1600
    file: SKILL.md

  # Level 3: Resources (loaded on-demand)
  # Only load when explicitly needed during execution
  resources:
    - path: references/JQL-CHEATSHEET.md
      purpose: Detailed JQL syntax, operators, and query patterns
      estimated_tokens: 2000
      load_when:
        - User asks about JQL syntax
        - User needs help writing queries
        - Query returns syntax errors
      keywords: [jql, query, search, filter, syntax]

    - path: references/ERROR-HANDLING.md
      purpose: Complete error codes, retry strategies, and troubleshooting
      estimated_tokens: 1400
      load_when:
        - API returns an error
        - User asks about error handling
        - Debugging connection issues
      keywords: [error, 401, 403, 404, 429, retry, timeout]

# Loading hints for consuming agents
loading_strategy:
  recommendation: |
    1. Start with SKILL.md only (Level 2)
    2. Load JQL-CHEATSHEET.md when user needs query help
    3. Load ERROR-HANDLING.md when encountering or discussing errors
    4. Never preload all resources - load on demand

  fallback: |
    If your agent does not support progressive disclosure,
    SKILL.md contains all essential instructions to operate.
    Reference files provide supplementary detail only.

# Total token budget
token_summary:
  metadata_only: 120
  with_instructions: 1720
  with_all_resources: 5120
